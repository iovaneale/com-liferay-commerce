definition {

	macro addWidgetsCommerce {
		if (IsNotVisible(locator1 = "ControlMenuAddPanel#CLOSE_ADD_PANEL")) {
			Click.clickAt(locator1 = "ControlMenu#ADD");
		}

		AssertElementPresent(locator1 = "ControlMenuAddPanel#APPLICATIONS_ACCORDION_PANEL_TITLE");

		AssertVisible(
			locator1 = "ControlMenuAddPanel#APPLICATIONS_ACCORDION_PANEL_TITLE",
			value1 = "Widgets");

		Pause(locator1 = "5000");

		Panel.expandSidebarApplicationsPanel();

		for (var searchPortlet : list "${searchPortletList}") {
			Type(
				locator1 = "NavBar#APPLICATION_SEARCH_FIELD",
				value1 = "Commerce-${searchPortlet}");

			var portletName = "Commerce-${searchPortlet}";

			MouseOver(locator1 = "ControlMenuAddPanel#ADD_PORTLET_LINK_1");
			Click(
				locator1 = "ControlMenuAddPanel#ADD_PORTLET_LINK_1",
				value1 = "Add");

			var key_portletName = "${searchPortlet}";

			AssertElementPresent(locator1 = "Portlet#LOADED");
			AssertElementPresent(locator1 = "Home#PORTLET");
		}
	}

	macro selectAssociatedFSOptionsValue {
		Click(locator1 = "CommerceFrontStore#FS_PRODUCT_OPTIONS_SELECT");

		Click(
			key_optionValue = "${FSOptionValue}",
			locator1 = "CommerceFrontStore#FS_PRODUCT_OPTION");
	}

	macro viewProductDetail {
		AssertElementPresent(
			key_FSProductName = "${FSProductName}",
			locator1 = "CommerceFrontStore#FS_PRODUCT_NAME");

		if (IsElementPresent(locator1 = "CommerceFrontStore#FS_PRODUCT_OPTIONS_SELECT")) {
			for (var FSOptionValues : list "${FSOptionValuesList}") {
				var FSOptionValue = StringUtil.extractFirst("${FSOptionValues}", ":");
				var FSPrice = StringUtil.extractLast("${FSOptionValues}", ":");
				var FSOptionValueUppercase = StringUtil.upperCase("${FSOptionValue}");

				FrontStore.selectAssociatedFSOptionsValue(FSOptionValue = "${FSOptionValue}");

				echo("Checking ${FSOptionValue} ${FSProductName} SKU is correct...");

				AssertElementPresent(
					key_FSProductSKU = "${FSOptionValueUppercase}SKU",
					locator1 = "CommerceFrontStore#FS_PRODUCT_SKU");

				echo("Checking ${FSOptionValue} ${FSProductName} price is correct...");

				AssertElementPresent(
					key_FSProductPrice = "${FSPrice}",
					locator1 = "CommerceFrontStore#FS_PRODUCT_PRICE");

				echo("Checking ${FSOptionValue} ${FSProductName} image is correct...");

				/* AssertElementPresent(
					key_FSProductImage = "${FSOptionValue}",
					locator1 = "CommerceFrontStore#FS_PRODUCT_FULL_IMAGE",
					value1 = "${FSOptionValue}"); */

				echo("Checking ${FSOptionValue} ${FSProductName} thumbnail is correct...");

				/* AssertElementPresent(
					key_FSProductImageThumb = "${FSOptionValue}",
					locator1 = "CommerceFrontStore#FS_PRODUCT_IMAGE_THUMBNAIL",
					value1 = "${FSOptionValue}"); */
			}
		}
	}

}